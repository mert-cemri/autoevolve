# Configuration for Minimizing Max/Min Distance (n=16, 3D) - Full Adaptive Exploration Features
# This config enables all new adaptive exploration features:
# - Softmax-weighted exploitation sampling
# - Inverse visit-count exploration sampling
# - Stagnation detection with multi-child generation
# - Sibling context for prompts
# - Multiple seed parents per island

# Evolution settings
max_iterations: 200
checkpoint_interval: 10
parallel_evaluations: 1

# LLM configuration
llm:
  api_base: "https://api.openai.com/v1"
  models:
    - name: "gpt-4"
      weight: 1.0
  temperature: 0.7
  max_tokens: 4000
  timeout: 120

# Database configuration (MAP-Elites algorithm) - FULL ADAPTIVE EXPLORATION
database:
  population_size: 40
  num_islands: 5
  migration_interval: 40
  feature_dimensions:
    - "score"
    - "complexity"

  # Adaptive exploration settings
  use_adaptive_search: true
  adaptive_window_size: 20
  adaptive_min_exploration: 0.1
  adaptive_max_exploration: 0.7

  # Softmax sampling for exploitation
  exploitation_temperature: 1.0

  # Stagnation detection and multi-child generation
  stagnation_threshold: 10
  stagnation_multi_child_count: 3

  # Sibling context for prompts
  sibling_context_limit: 5

# Evaluation settings
evaluator:
  timeout: 360
  max_retries: 3

# Prompt configuration
prompt:
  system_message: |
    SETTING:
    You are an expert computational geometer and optimization specialist focusing on point dispersion problems.
    Your task is to evolve a constructor function that generates an optimal arrangement of exactly 16 points in 3D space, maximizing the ratio of minimum distance to maximum distance between all point pairs.

    PROBLEM CONTEXT:
    - Target: Beat the AlphaEvolve benchmark for the 3D variant
    - Constraint: Points must be placed in 3D Euclidean space (typically normalized to unit cube [0,1]^3)
    - Mathematical formulation: For points Pi = (xi, yi, zi), i = 1,...,16:
      * Distance matrix: dij = sqrt[(xi-xj)^2 + (yi-yj)^2 + (zi-zj)^2] for all i!=j
      * Minimum distance: dmin = min{dij : i!=j}
      * Maximum distance: dmax = max{dij : i!=j}
      * Objective: maximize dmin/dmax subject to spatial constraints

    PERFORMANCE METRICS:
    1. **min_max_ratio**: dmin/dmax ratio (PRIMARY OBJECTIVE - maximize)
    2. **combined_score**: min_max_ratio / benchmark (progress toward beating AlphaEvolve benchmark)
    3. **eval_time**: Execution time in seconds (balance accuracy vs. efficiency)

    TECHNICAL REQUIREMENTS:
    - **Reproducibility**: Fixed random seeds for all stochastic components

  num_top_programs: 3
  num_diverse_programs: 2

# Logging
log_level: "INFO"
